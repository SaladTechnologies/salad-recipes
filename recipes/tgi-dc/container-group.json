{
  "name": "",
  "readme": "$replace",
  "container": {
    "command": [],
    "environmentVariables": {
      "HOSTNAME": "::",
      "PORT": "3000",
      "CUDA_VISIBLE_DEVICES": "0,1,2,3,4,5,6,7",
      "NUM_SHARDS": "8"
    },
    "image": "ghcr.io/huggingface/text-generation-inference:3.3.0",
    "imageCaching": true,
    "resources": {
      "cpu": 128,
      "memory": 2097152,
      "gpuClasses": [
        "1665bfbe-6e12-41ef-82c9-1a5a35db8b37"
      ],
      "storageAmount": 536870912000,
      "shmSize": 2048
    },
    "priority": "high"
  },
  "autostartPolicy": true,
  "restartPolicy": "always",
  "replicas": 3,
  "readinessProbe": {
    "failureThreshold": 1,
    "http": {
      "headers": [],
      "path": "/health",
      "port": 3000,
      "scheme": "http"
    },
    "initialDelaySeconds": 0,
    "periodSeconds": 3,
    "successThreshold": 1,
    "timeoutSeconds": 10
  },
  "networking": {
    "auth": true,
    "clientRequestTimeout": 100000,
    "loadBalancer": "least_number_of_connections",
    "port": 3000,
    "protocol": "http",
    "serverResponseTimeout": 100000,
    "singleConnectionLimit": false
  }
}